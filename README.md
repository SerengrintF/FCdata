# FC온라인 유저 검색 애플리케이션

넥슨 FC온라인 API를 활용하여 유저 정보를 검색할 수 있는 웹 애플리케이션입니다.

## 기능

- 유저 닉네임으로 검색
- 유저 기본 정보 조회 (닉네임, Access ID, 레벨, 등급 등)
- 클럽 정보 조회
- 최근 매치 정보 조회
- 닉네임 카드 분석 (플레이 스타일, 주요 강점, 경기 성향)
- 구단 통계 및 선수별 성과 분석
- 반응형 웹 디자인

## 설치 및 실행

### 1. 환경 설정

먼저 의존성 패키지를 설치하세요:
```bash
npm install
```

### 2. API 키 설정

프로젝트 루트에 `.env` 파일을 생성하고 Nexon API 키를 추가하세요:
```
NEXON_API_KEY=your_api_key_here
```

> **중요**: `.env` 파일은 절대 Git에 커밋하지 마세요! (이미 `.gitignore`에 추가되어 있습니다)
> 
> API 키는 [Nexon Open API](https://developers.nexon.com/)에서 발급받을 수 있습니다.

### 3. 서버 실행

```bash
npm start
# 또는
node server.js
```

### 4. 브라우저에서 접속

브라우저에서 `http://localhost:8000` 접속

### 5. 유저 검색

유저 닉네임을 입력하고 검색 버튼 클릭

## API 사용

이 애플리케이션은 넥슨 FC온라인 API의 다음 엔드포인트를 사용합니다:

- `GET /fconline/v1/user/basic?nickname={nickname}` - 닉네임으로 Access ID 조회
- `GET /fconline/v1/user/info?accessid={accessId}` - Access ID로 유저 상세 정보 조회

## 보안

### API 키 관리

- ✅ API 키는 `.env` 파일에서 환경 변수로 관리됩니다
- ✅ `.env` 파일은 `.gitignore`에 포함되어 Git에서 제외됩니다
- ✅ 서버 측에서만 API를 호출하므로 클라이언트에 API 키가 노출되지 않습니다
- ⚠️ `.env` 파일을 절대 공개 저장소에 업로드하지 마세요
- ⚠️ 배포 시에는 배포 플랫폼의 환경 변수 설정 기능을 사용하세요

### 배포 시 환경 변수 설정

- **Heroku**: Settings → Config Vars에서 `NEXON_API_KEY` 추가
- **Vercel**: Settings → Environment Variables에서 추가  
- **AWS/기타**: 해당 플랫폼의 환경 변수 설정 기능 사용

## 주의사항

- CORS 정책으로 인해 브라우저에서 직접 실행할 때는 로컬 서버를 사용해야 합니다
- API 호출 제한이 있을 수 있으니 과도한 요청은 피하세요

## 닉네임 카드 분석 기준

### 🎯 플레이 스타일 (Play Style)
- **공격적** - 평균 골 2.0개 이상 + 승률 60% 이상
- **수비적** - 평균 골 0.5개 미만 + 평균 실점 1.0개 미만
- **창조적** - 평균 어시스트 1.5개 이상 + 평균 골 0.8개 이상
- **전술적** - 승률 75% 이상 + 평균 실점 1.2개 미만
- **올라운드** - 평균 골 1.2개 이상 + 평균 어시스트 0.8개 이상
- **균형형** - 기본값 (다른 조건을 만족하지 않는 경우)

### 💪 주요 강점 (Main Strength)
- **득점력** - 평균 골 1.8개 이상 + 승률 60% 이상
- **플레이메이킹** - 평균 어시스트 1.2개 이상 + 평균 골 0.6개 이상
- **승부사** - 승률 70% 이상 + 평균 실점 1.0개 미만
- **수비력** - 평균 실점 0.8개 미만 + 승률 60% 이상
- **올라운드** - 평균 골 1.0개 이상 + 평균 어시스트 0.6개 이상 + 승률 55% 이상
- **공격력** - 평균 골 1.5개 이상
- **창조력** - 평균 어시스트 1.0개 이상
- **안정성** - 기본값 (다른 조건을 만족하지 않는 경우)

### ⚡ 경기 성향 (Game Tendency)
- **정밀 스나이퍼** - 평균 골 2.2개 이상 + 승률 70% 이상
- **티키타카 마에스트로** - 평균 어시스트 1.5개 이상 + 승률 70% 이상
- **번개 카운터** - 평균 골 1.8개 이상 + 평균 어시스트 1.2개 이상 + 승률 75% 이상
- **철벽 수비** - 평균 실점 0.7개 이하 + 승률 70% 이상
- **만능 득점머신** - 평균 골 1.8개 이상 + 평균 어시스트 1.3개 이상 + 승률 70% 이상
- **점유율 제어** - 평균 어시스트 1.3개 이상 + 승률 75% 이상
- **고압 압박** - 평균 실점 0.9개 이하 + 승률 70% 이상
- **윙 플레이** - 평균 어시스트 1.1개 이상 + 승률 65% 이상
- **롱볼 전술** - 평균 골 1.6개 이상 + 승률 65% 이상
- **수비 카운터** - 평균 실점 1.0개 이하 + 평균 골 1.3개 이상 + 승률 65% 이상
- **올아웃 어택** - 평균 골 2.0개 이상 + 승률 60% 이상
- **창조적 플레이메이커** - 평균 어시스트 1.0개 이상 + 평균 골 1.0개 이상 + 승률 60% 이상
- **안정적 수비** - 평균 실점 1.1개 이하 + 승률 60% 이상
- **균형 잡힌 플레이** - 기본값 (다른 조건을 만족하지 않는 경우)

### 🎨 특별 특성 (Special Characteristics)
- **🎯 정밀 스나이퍼** - 매우 높은 공격 효율성
- **🎨 티키타카 마에스트로** - 높은 빌드업 점수
- **⚡ 번개 카운터** - 높은 점유율 활용도와 공격 효율성
- **🛡️ 철벽 수비** - 매우 높은 수비 강도
- **🌟 만능 득점머신** - 높은 골 다양성과 공격 효율성
- **🎭 창조적 플레이메이커** - 높은 빌드업과 점유율 활용도
- **🛡️ 안정적 수비** - 높은 수비 강도와 적당한 빌드업

### 분석 시스템 특징
- **우선순위 기반 선택**: 여러 조건을 만족하는 경우 점수 계산을 통해 가장 특징적인 항목 선택
- **중복 방지**: 각 카테고리에서 하나의 항목만 선택되어 플레이어의 고유한 특징 부각
- **10경기 기준**: 최소 10경기 데이터를 기준으로 분석하여 신뢰성 확보

## 파일 구조

```
FcData_1012/
├── server.js              # Node.js 서버 (메인 진입점)
├── package.json           # 프로젝트 의존성
├── .env                   # 환경 변수 (API 키) - Git에서 제외됨
├── .env.example          # 환경 변수 예제 파일
├── .gitignore            # Git 제외 파일 목록
├── index.html            # 메인 HTML 페이지
├── lib/
│   ├── api.js           # Nexon API 호출 모듈
│   ├── routes.js        # API 라우팅
│   ├── match.js         # 매치 데이터 처리
│   ├── grade.js         # 등급 분석
│   ├── respond.js       # HTTP 응답 유틸리티
│   ├── meta.js          # 메타데이터 처리
│   └── spid.js          # 선수 ID 처리
├── js/
│   ├── common.js        # 공통 JavaScript
│   ├── dashboard.js     # 대시보드 로직
│   ├── formation.js     # 포메이션 분석
│   └── team.js          # 팀 분석
└── css/
    ├── common.css       # 공통 스타일
    ├── dashboard.css    # 대시보드 스타일
    ├── formation.css    # 포메이션 스타일
    └── team.css         # 팀 스타일
```


