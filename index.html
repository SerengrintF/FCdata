<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0E8XPDGDXL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-0E8XPDGDXL');
    </script>
    
    <meta charset="UTF-8">
    <!-- Desktop keeps fixed width; mobile UA will override below -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <!-- <meta name="viewport" content="width=1200, initial-scale=0.5, user-scalable=yes"> -->
    
    <!-- Pull-to-refresh 방지 메타 태그 -->
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>FC Data - FC온라인 전적 분석 | 구단별 포메이션 통계</title>
    
    <!-- SEO 최적화 -->
    <meta name="description" content="FC온라인 전적 분석 사이트. 닉네임 검색으로 최근 100경기 데이터, 구단별 성과, 포메이션 분석을 무료로 확인하세요. 로그인 불필요.">
    <meta name="keywords" content="FC온라인, 피파온라인, 전적검색, 전적분석, 구단분석, 포메이션분석, FC Online, 넥슨">
    <meta name="author" content="FC Data">
    <meta name="google-adsense-account" content="ca-pub-8530704724833439">
    
    <!-- Open Graph (SNS 공유용) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="FC Data - FC온라인 전적 분석">
    <meta property="og:description" content="닉네임 검색으로 FC온라인 경기 데이터를 분석하세요. 구단별 성과, 포메이션 분석, 선수 통계 제공.">
    <meta property="og:url" content="https://fc-data.kr">
    <meta property="og:image" content="https://fc-data.kr/logo.svg">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="FC Data - FC온라인 전적 분석">
    <meta name="twitter:description" content="FC온라인 경기 데이터 분석 및 통계">
    <!-- Common Styles -->
    <link rel="stylesheet" href="css/common.css">
    <!-- Dashboard Styles -->
    <link rel="stylesheet" href="css/dashboard.css">
    <!-- Team Data Styles -->
    <link rel="stylesheet" href="css/team.css">
    <!-- Formation Analysis Styles -->
    <link rel="stylesheet" href="css/formation.css">
    <!-- Rival Match Styles -->
    <link rel="stylesheet" href="css/rival.css">
    <!-- Mobile-only overrides -->
    <link rel="stylesheet" href="css/mobile.css" media="(max-width: 1024px)">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://openapi.nexon.com/js/analytics.js?app_id=201448" async></script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8530704724833439"
         crossorigin="anonymous"></script>
    
    <script>
      (function() {
        var isMobile = /Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);
        if (!isMobile) return;
        var meta = document.querySelector('meta[name="viewport"]');
        if (meta) {
          meta.setAttribute('content', 'width=device-width, initial-scale=1.0, viewport-fit=cover');
        }
        document.documentElement.classList.add('is-mobile');
      })();
    </script>
  </head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TMBJCM9Z"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div class="container">
        <!-- 헤더 섹션 -->
        <header class="main-header">
            <div class="header-content">
                <div class="logo" id="logo">
                    <img src="logo.svg" alt="FC Data" class="logo-image">
                </div>
                <div class="header-actions">
                    <a href="https://www.youtube.com/@sereng88" target="_blank" class="action-btn primary youtube-btn" id="followBtn" style="display: none;">
                        <svg class="youtube-icon" viewBox="0 0 24 24" width="20" height="20">
                            <path fill="currentColor" d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                        </svg>
                        <span>Youtube</span>
                    </a>
                    <button class="action-btn secondary email-btn" id="emailBtn" title="문의 및 피드백">
                        <div class="email-btn-content">
                            <span class="email-icon">📧</span>
                            <span class="email-text">문의</span>
                        </div>
                    </button>
                </div>
            </div>
        </header>

        <!-- 검색 섹션 -->
        <div class="search-section">
            <!-- 매치코드 선택 (검색바 왼쪽) -->
            <select id="matchTypeSelect" class="match-type-select">
                <option value="50">공식경기</option>
                <option value="52">감독모드</option>
                <option value="60">친선경기</option>
            </select>
            <div class="search-input-container">
                <input type="text" id="nicknameInput" placeholder="유저 닉네임을 입력하세요" maxlength="20" autocomplete="off">
                <div class="search-dropdown" id="searchDropdown" style="display: none;">
                    <div class="dropdown-section">
                        <div class="dropdown-header">
                            <span class="dropdown-title">즐겨찾기</span>
                            <button class="clear-favorites-btn" id="clearFavoritesBtn" title="즐겨찾기 모두 삭제">🗑️</button>
                        </div>
                        <div class="favorites-list" id="favoritesList">
                            <!-- 즐겨찾기 목록이 여기에 표시됩니다 -->
                        </div>
                    </div>
                    <div class="dropdown-section">
                        <div class="dropdown-header">
                            <span class="dropdown-title">최근 검색</span>
                            <button class="clear-history-btn" id="clearHistoryBtn" title="검색 기록 모두 삭제">🗑️</button>
                        </div>
                        <div class="history-list" id="historyList">
                            <!-- 검색 기록이 여기에 표시됩니다 -->
                        </div>
                    </div>
                </div>
            </div>
            <button id="searchBtn">검색</button>
        </div>

        <!-- 검색 중 상태 알림 -->
        <div class="loading" id="loading" style="display: none;">
            <div class="spinner"></div>
            <span>검색 중...</span>
        </div>

        <!-- 환영 섹션 (초기 콘텐츠) -->
        <div class="welcome-section" id="welcomeSection">
            <div class="welcome-content">
                <div class="welcome-header">
                    <h1>FC온라인 전적 분석 도구</h1>
                    <p class="welcome-subtitle">닉네임을 검색하여 상세한 경기 데이터를 확인하세요</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">📊</div>
                        <div class="feature-content">
                            <h3>최근 100경기 분석</h3>
                            <p>상세한 경기 기록과 통계를 제공합니다</p>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">⚽</div>
                        <div class="feature-content">
                            <h3>구단별 성과 통계</h3>
                            <p>동일한 선수들로 구성된 구단의 성과를 분석합니다</p>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">📈</div>
                        <div class="feature-content">
                            <h3>포메이션 분석</h3>
                            <p>사용한 포메이션별 경기 성과를 비교합니다</p>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">⚔️</div>
                        <div class="feature-content">
                            <h3>라이벌 매치</h3>
                            <p>특정 상대와의 전적을 분석합니다</p>
                        </div>
                    </div>
                </div>
                
                <!-- 패치노트 섹션 -->
                <div class="notice-section">
                    <h3>📝 패치노트</h3>
                    <div class="notice-list">
                        <div class="notice-item" onclick="toggleNoticeItem(this)">
                            <div class="notice-header">
                                <span class="notice-date">2025.10.24</span>
                                <span class="notice-title">모바일 UX 개선 업데이트</span>
                                <span class="notice-badge new">NEW</span>
                                <span class="notice-toggle-icon">▼</span>
                            </div>
                            <div class="notice-content">
                                <p>모바일과 태블릿 환경에서의 사용자 경험이 대폭 개선되었습니다. 하단 고정 탭바로 쉬운 네비게이션, 모바일 최적화된 검색 팝업, 터치 친화적인 인터페이스, 반응형 레이아웃 등이 적용되어 스마트폰에서도 편리하게 FC Data를 이용할 수 있습니다.</p>
                            </div>
                        </div>
                        <div class="notice-item" onclick="toggleNoticeItem(this)">
                            <div class="notice-header">
                                <span class="notice-date">2025.10.17</span>
                                <span class="notice-title">공식/친선 경기 업데이트</span>
                                <span class="notice-toggle-icon">▼</span>
                            </div>
                            <div class="notice-content">
                                <p>경기 타입 선택 기능이 개선되었습니다. 공식경기(랭크매치), 친선경기, 감독모드 등 원하는 경기 유형을 선택하여 검색할 수 있으며, 각 매치 타입별로 정확한 통계와 분석 데이터를 제공합니다. 더욱 세밀한 전적 분석이 가능해졌습니다.</p>
                            </div>
                        </div>
                        <div class="notice-item" onclick="toggleNoticeItem(this)">
                            <div class="notice-header">
                                <span class="notice-date">2025.10.15</span>
                                <span class="notice-title">라이벌 매치 기능 업데이트</span>
                                <span class="notice-toggle-icon">▼</span>
                            </div>
                            <div class="notice-content">
                                <p>특정 상대방과의 모든 경기 기록을 한 번에 확인할 수 있는 라이벌 매치 기능이 업데이트되었습니다. 공식경기, 친선경기, 이벤트 경기 등 다양한 매치 타입에서의 대전 기록을 통합하여 보여주며, 상대방과의 전적, 승률, 득실차 등을 종합적으로 분석할 수 있습니다.</p>
                            </div>
                        </div>
                        <div class="notice-item" onclick="toggleNoticeItem(this)">
                            <div class="notice-header">
                                <span class="notice-date">2025.10.14</span>
                                <span class="notice-title">공식경기 컨트롤러 기능 추가</span>
                                <span class="notice-toggle-icon">▼</span>
                            </div>
                            <div class="notice-content">
                                <p>공식경기에서 상대방이 키보드(⌨️)를 사용하는지 게임패드(🎮)를 사용하는지 표시하는 기능이 추가되었습니다. 경기 목록과 상세 정보에서 컨트롤러 타입을 확인할 수 있으며, 패드 대전 승률과 키보드 대전 승률 통계도 제공됩니다. 자신의 강점을 파악하고 전략을 세우는 데 도움이 됩니다.</p>
                            </div>
                        </div>
                        <div class="notice-item" onclick="toggleNoticeItem(this)">
                            <div class="notice-header">
                                <span class="notice-date">2025.10.12</span>
                                <span class="notice-title">FC Data 서비스 오픈</span>
                                <span class="notice-toggle-icon">▼</span>
                            </div>
                            <div class="notice-content">
                                <p>FC온라인 전적 분석 도구 FC Data가 정식 오픈되었습니다. 닉네임만 입력하면 최근 100경기의 상세한 통계를 확인할 수 있으며, 로그인 없이 무료로 이용 가능합니다. 대시보드, 구단 분석, 포메이션 분석, 라이벌 매치 등 다양한 기능을 제공합니다.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FC Data 소개 섹션 -->
                <div class="about-section">
                    <h3>FC Data란?</h3>
                    <p>FC Data는 FC온라인(피파온라인) 유저들을 위한 전문 전적 분석 플랫폼입니다. 
                    넥슨 공식 Open API를 활용하여 제공되는 <strong>실시간 경기 데이터</strong>를 기반으로 
                    체계적인 전적 분석과 성과 평가를 무료로 제공합니다. 
                    복잡한 로그인 절차 없이 <strong>닉네임만으로 즉시 검색</strong>이 가능하여, 
                    누구나 쉽게 자신의 게임 성과를 분석하고 개선점을 발견할 수 있습니다.</p>
                    
                    <h3>핵심 기능 및 활용 방법</h3>
                    
                    <div class="feature-list">
                        <div class="feature-item" onclick="toggleFeatureItem(this)">
                            <div class="feature-header">
                                <span class="feature-icon">📊</span>
                                <span class="feature-title">최근 100경기 상세 분석</span>
                                <span class="feature-toggle-icon">▼</span>
                            </div>
                            <div class="feature-content">
                                <p>FC온라인에서 플레이한 <strong>최근 100경기의 종합 통계</strong>를 한눈에 확인할 수 있습니다. 
                                승률, 평균 득점, 평균 실점, 경기력 트렌드 분석 등 핵심 지표를 제공하며, 
                                특히 <strong>패드/키보드 대전 승률</strong>을 별도로 분석하여 
                                자신의 플레이 스타일에 맞는 최적의 입력 장치를 파악할 수 있습니다. 
                                각 경기별로는 득점 유형(근거리/중거리/헤딩), 주요 선수 기여도, 
                                경기 시간대별 득실점 패턴 등 <strong>상세한 경기 데이터</strong>를 제공합니다. 
                                이를 통해 단순한 승패 기록을 넘어선 심층적인 경기 분석이 가능합니다.</p>
                            </div>
                        </div>
                        
                        <div class="feature-item" onclick="toggleFeatureItem(this)">
                            <div class="feature-header">
                                <span class="feature-icon">⚽</span>
                                <span class="feature-title">구단별 성과 통계 분석</span>
                                <span class="feature-toggle-icon">▼</span>
                            </div>
                            <div class="feature-content">
                                <p>동일한 선수들로 구성된 구단(7명 이상 동일한 선수)의 성과를 
                                <strong>최근 30일 및 100경기 기준</strong>으로 분석합니다. 
                                구단별 승률, 평균 득실점, 최고 기여 선수, 선수별 상세 통계를 제공하여 
                                <strong>어떤 구단 조합이 가장 효과적인지</strong> 데이터 기반으로 확인할 수 있습니다. 
                                이를 통해 자신의 플레이 스타일에 최적화된 선수 조합을 찾고, 
                                구단별 강점과 약점을 파악하여 전략을 수립할 수 있습니다.</p>
                            </div>
                        </div>
                        
                        <div class="feature-item" onclick="toggleFeatureItem(this)">
                            <div class="feature-header">
                                <span class="feature-icon">📈</span>
                                <span class="feature-title">포메이션 분석 및 최적화</span>
                                <span class="feature-toggle-icon">▼</span>
                            </div>
                            <div class="feature-content">
                                <p>사용한 포메이션별로 경기 성과를 <strong>비교 분석</strong>할 수 있는 기능입니다. 
                                각 포메이션의 전체 성과뿐만 아니라, 동일 포메이션을 사용한 경기 그룹의 
                                상세 데이터를 제공하여 <strong>자신에게 가장 적합한 포메이션을 찾을 수 있습니다</strong>. 
                                예를 들어, 4-3-3 포메이션에서의 승률이 70%이고, 4-4-2에서는 50%라면 
                                공격적 플레이 스타일에 더 적합한 포메이션을 선택할 수 있습니다.</p>
                            </div>
                        </div>
                        
                        <div class="feature-item" onclick="toggleFeatureItem(this)">
                            <div class="feature-header">
                                <span class="feature-icon">⚔️</span>
                                <span class="feature-title">라이벌 매치 분석</span>
                                <span class="feature-toggle-icon">▼</span>
                            </div>
                            <div class="feature-content">
                                <p>특정 상대와의 전적을 <strong>체계적으로 분석</strong>하여 전략을 수립하는 데 도움을 드립니다. 
                                상대방 닉네임을 입력하면 해당 상대와의 모든 경기 기록을 확인할 수 있으며, 
                                승패 패턴, 득실점 차이, 주로 사용한 포메이션 등을 분석하여 
                                <strong>다음 경기를 위한 맞춤형 전략</strong>을 수립할 수 있습니다.</p>
                            </div>
                        </div>
                    </div>
                    
                    <h3>데이터 기반 전략 수립 가이드</h3>
                    <p>FC Data는 단순한 전적 기록을 넘어선 <strong>종합적인 경기 분석 도구</strong>입니다. 
                    경기별 득점, 실점, 점유율, 슈팅 성공률, 패스 성공률 등 다양한 스탯을 제공하며, 
                    <strong>시간대별 득실점 분석</strong>을 통해 자신의 집중력이 높은 시간대를 파악할 수 있습니다. 
                    골 유형 분석(근거리/중거리/헤딩)을 통해 자신의 주요 득점 패턴을 이해하고, 
                    주요 선수 기여도 분석을 통해 <strong>팀의 핵심 선수</strong>를 파악할 수 있습니다.</p>
                    
                    <p>구단별로 어떤 선수 조합이 가장 효과적인지, 어떤 포메이션이 승률이 높은지 
                    <strong>객관적인 데이터를 기반으로 확인</strong>할 수 있어, 
                    감에 의존하지 않고 <strong>과학적인 접근으로 게임 실력을 향상</strong>시킬 수 있습니다. 
                    또한 패드와 키보드 대전 승률을 비교하여 자신에게 더 유리한 환경을 선택할 수 있으며, 
                    경기력 트렌드 분석을 통해 최근 플레이 상태를 모니터링할 수 있습니다.</p>
                    
                    <p>FC Data는 FC온라인 유저들이 <strong>더 나은 성과를 달성</strong>할 수 있도록 
                    데이터 기반의 인사이트를 제공하는 전문 분석 플랫폼입니다. 
                    무료로 제공되는 모든 기능을 활용하여 자신만의 게임 전략을 수립하고, 
                    지속적인 개선을 통해 실력을 향상시켜보세요.</p>
                </div>

                <!-- FAQ 섹션 -->
                <div class="info-section">
                    <h3>자주 묻는 질문</h3>
                    <div class="faq-item">
                        <h4>Q: 로그인이 필요한가요?</h4>
                        <p>A: 아니요. FC Data는 로그인 없이 무료로 사용할 수 있습니다. 
                        닉네임만 입력하시면 바로 검색이 가능합니다.</p>
                    </div>
                    <div class="faq-item">
                        <h4>Q: 어떤 경기 데이터를 확인할 수 있나요?</h4>
                        <p>A: 공식경기, 감독모드, 친선경기 중 선택하여 검색할 수 있습니다. 
                        최근 100경기의 상세한 데이터를 제공합니다.</p>
                    </div>
                    <div class="faq-item">
                        <h4>Q: 데이터는 언제 업데이트되나요?</h4>
                        <p>A: 넥슨 공식 API를 통해 경기가 끝나고, 약 2시간 후의 데이터를 볼 수 있습니다.</p>
                    </div>
                </div>

                <!-- 인기 검색어 섹션 -->
                <div class="popular-searches-section">
                    <h3>🔥 인기 검색</h3>
                    <div class="popular-list" id="popularList">
                        <!-- 초기 HTML 데이터 (Google 봇이 인식할 수 있도록) -->
                        <div class="popular-item" onclick="searchNickname('예시닉네임1')">예시닉네임1</div>
                        <div class="popular-item" onclick="searchNickname('예시닉네임2')">예시닉네임2</div>
                        <div class="popular-item" onclick="searchNickname('예시닉네임3')">예시닉네임3</div>
                        <div class="popular-item" onclick="searchNickname('예시닉네임4')">예시닉네임4</div>
                        <div class="popular-item" onclick="searchNickname('예시닉네임5')">예시닉네임5</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 선수 기본 정보 섹션 -->
        <div class="player-basic-info" id="playerBasicInfo" style="display: none;">
            <div class="player-card">
                <div class="current-grade-image" id="currentGradeImage">
                    <!-- 최고 등급 이미지가 여기에 표시됩니다 -->
                </div>
                <div class="player-info">
                    <div class="player-name-container">
                        <h2 id="playerName">선수 이름</h2>
                        <p class="player-level">레벨 <span id="playerLevel">-</span></p>
                    </div>
                </div>
                <div class="player-characteristics" id="playerCharacteristics">
                    <div class="characteristics-content">
                        <div class="characteristic-item">
                            <span class="characteristic-label">스타일</span>
                            <span class="characteristic-value" id="playStyle">-</span>
                        </div>
                        <div class="characteristic-item">
                            <span class="characteristic-label">강점</span>
                            <span class="characteristic-value" id="mainStrength">-</span>
                        </div>
                        <div class="characteristic-item">
                            <span class="characteristic-label">성향</span>
                            <span class="characteristic-value" id="gameTendency">-</span>
                        </div>
                    </div>
                </div>
                
                <!-- 요즘 나의 경기는? 버튼 -->
                <div class="fun-data-section">
                    <button class="fun-data-btn" id="funDataBtn" onclick="showFunDataCards()">
                        <span class="btn-icon">🎲</span>
                        <span class="btn-text">요즘 나의 경기는?</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- 탭 메뉴 -->
        <div class="tab-container" id="tabContainer" style="display: none;">
            <div class="tab-menu">
                <button class="tab-btn active" data-tab="dashboard">
                    <span class="tab-text">대시보드</span>
                </button>
                <button class="tab-btn" data-tab="team">
                    <span class="tab-text">구단별 데이터</span>
                </button>
                <button class="tab-btn" data-tab="stats">
                    <span class="tab-text">포메이션 분석</span>
                </button>
                <button class="tab-btn" data-tab="rival" id="rivalTabBtn" style="display: none;">
                    <span class="tab-text">라이벌 매치</span>
                </button>
            </div>

            <!-- 대시보드 탭 -->
            <div class="tab-content active" id="dashboard">
                <div class="dashboard-compact">
                    <!-- 최근 경기력 요약 -->
                    <div class="summary-compact">
                        <div class="summary-stats">
                            <div class="summary-item">
                                <span class="summary-label">승률</span>
                                <span class="summary-value" id="winRate">-</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">평균 득점</span>
                                <span class="summary-value" id="avgGoals">-</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">평균 실점</span>
                                <span class="summary-value" id="avgConceded">-</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-label">경기력 트렌드</span>
                                <div class="trend-display" id="trendDisplay">
                                    <span class="trend-icon"></span>
                                    <span class="trend-text" id="trendText">-</span>
                                </div>
                            </div>
                            <div class="summary-item">
                                <div class="controller-stats" id="controllerStats">
                                    <div class="controller-stat">
                                        <div class="controller-label">vs🎮</div>
                                        <div class="controller-value" id="padWinRate">-</div>
                                    </div>
                                    <div class="controller-stat">
                                        <div class="controller-label">vs⌨️</div>
                                        <div class="controller-value" id="keyboardWinRate">-</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 골 유형 분석 & 주요 선수 카드 -->
                    <div class="analysis-cards-container">
                        <!-- 골 유형 분석 카드 -->
                        <div class="analysis-card goal-analysis-card">
                            <div class="card-header">
                                <h3>골 넣는 유형 <span id="goalAnalysisMatchCount" class="match-count">(0)</span></h3>
                            </div>
                            <div class="card-content">
                                <div class="goal-stats">
                                    <div class="goal-card" id="closeRangeCard">
                                        <div class="goal-card-icon">⚽</div>
                                        <div class="goal-card-content">
                                            <div class="goal-card-label">근거리</div>
                                            <div class="goal-card-value" id="closeRangePercent">0%</div>
                                        </div>
                                        <div class="goal-card-bg"></div>
                                    </div>
                                    
                                    <div class="goal-card" id="midRangeCard">
                                        <div class="goal-card-icon">🚀</div>
                                        <div class="goal-card-content">
                                            <div class="goal-card-label">중거리</div>
                                            <div class="goal-card-value" id="midRangePercent">0%</div>
                                        </div>
                                        <div class="goal-card-bg"></div>
                                    </div>
                                    
                                    <div class="goal-card" id="headingCard">
                                        <div class="goal-card-icon">💥</div>
                                        <div class="goal-card-content">
                                            <div class="goal-card-label">헤딩</div>
                                            <div class="goal-card-value" id="headingPercent">0%</div>
                                        </div>
                                        <div class="goal-card-bg"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 주요 선수 카드 -->
                        <div class="analysis-card top-players-card">
                            <div class="card-header">
                                <h3>주요 선수 <span id="topPlayersMatchCount" class="match-count">(0)</span></h3>
                            </div>
                            <div class="card-content">
                                <div class="top-players-list" id="topPlayersList">
                                    <!-- 주요 선수들이 여기에 표시됩니다 -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 최근 경기 기록 -->
                    <div class="matches-compact">
                        <div class="matches-header">
                            <h3>최근 경기 기록 <span id="matchCount" class="match-count">(0)</span></h3>
                            <div class="matches-controls">
                <select id="matchCountSelect" class="match-count-select">
                    <option value="10">10경기</option>
                    <option value="max">최대 경기</option>
                </select>
                                <button class="load-more-btn" id="loadMoreBtn">더보기</button>
                            </div>
                        </div>
                        <div class="matches-list" id="matchesList">
                            <!-- 경기 기록이 여기에 표시됩니다 -->
                        </div>
                        
                        <!-- 광고 유닛 (초기 숨김, 데이터 로드 후 표시) -->
                        <div class="ad-container" id="dashboardAd" style="display: none;">
                            <ins class="adsbygoogle"
                                 style="display:block"
                                 data-ad-client="ca-pub-8530704724833439"
                                 data-ad-slot="1234567890"
                                 data-ad-format="auto"
                                 data-full-width-responsive="true"></ins>
                        </div>
                    </div>
                </div>
            </div>

                <!-- 구단별 데이터 탭 -->
                <div class="tab-content" id="team">
                    <div class="team-data-container">
                        <div class="tab-header-section">
                            <p class="tab-description">
                                7명 이상 동일한 선수로 구성된 구단별 경기 분석
                                <span class="data-info">• 최근 30일 및 100경기 기준</span>
                            </p>
                        </div>
                        
                        <!-- 최고의 선수 섹션 -->
                        <div class="top-players-section" id="topPlayersSection" style="display: none;">
                            <div class="top-players-header">
                                <h4>🏆 <span id="actualMatchCount">0</span>경기 기준 최고의 선수</h4>
                                <button class="guide-btn" id="topPlayersGuideBtn" title="지표 가이드">?</button>
                            </div>
                            <p class="top-players-subtitle">경기수 대비 활약이 우수한 선수들을 선별했습니다</p>
                            
                            <div class="top-players-slider-container">
                                <button class="slider-nav-btn slider-prev-btn" id="topPlayersPrevBtn" disabled>
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="15,18 9,12 15,6"></polyline>
                                    </svg>
                                </button>
                                
                                <div class="top-players-slider" id="topPlayersSlider">
                                    <div class="top-players-track" id="topPlayersTrack">
                                        <!-- 슬라이드들이 여기에 동적으로 생성됩니다 -->
                                    </div>
                                </div>
                                
                                <button class="slider-nav-btn slider-next-btn" id="topPlayersNextBtn">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="9,18 15,12 9,6"></polyline>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <div class="team-data-content" id="teamDataContent">
                            <div class="loading" id="teamLoading" style="display: none;">
                                <div class="spinner"></div>
                                <span>구단별 데이터 분석 중...</span>
                            </div>
                            
                            
                            <div class="team-layout" id="teamLayout" style="display: none;">
                                <!-- 클럽 카드 슬라이더 -->
                                <div class="team-cards-slider-container">
                                    <button class="slider-nav-btn slider-prev-btn" id="teamSliderPrevBtn" disabled>
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="15,18 9,12 15,6"></polyline>
                                        </svg>
                                    </button>
                                    
                                    <div class="team-cards-slider" id="teamCardsSlider">
                                        <div class="team-cards-track" id="teamCardsTrack">
                                            <!-- 동일한 선수들(이름, 시즌, 강화등급)을 사용한 경기 카드들이 여기에 표시됩니다 -->
                                        </div>
                                    </div>
                                    
                                    <button class="slider-nav-btn slider-next-btn" id="teamSliderNextBtn">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="9,18 15,12 9,6"></polyline>
                                        </svg>
                                    </button>
                                </div>
                                
                                <!-- 선수 데이터 패널 -->
                                <div class="team-detail-panel" id="teamDetailPanel">
                                    <div class="team-detail-placeholder">
                                        <div class="placeholder-icon">⚽</div>
                                        <h4>구단 카드를 선택하세요</h4>
                                        <p>위에서 구단 카드를 클릭하면 선수 데이터를 볼 수 있습니다.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="no-team-data" id="noTeamData" style="display: none;">
                                <div class="no-data-icon">⚽</div>
                                <h4>구단별 데이터가 없습니다</h4>
                                <p>공식경기 100경기 데이터를 먼저 불러와주세요.</p>
                            </div>
                        </div>
                    </div>
                </div>

            <!-- 포메이션 분석탭 -->
            <div class="tab-content" id="stats">
                <div class="formation-data-container">
                    <div class="tab-header-section">
                        <p class="tab-description">
                            사용한 포메이션별 경기 성과 분석
                            <span class="data-info">• 최근 30일 및 100경기 기준</span>
                        </p>
                    </div>

                        <div class="loading" id="formationLoading" style="display: none;">
                            <div class="spinner"></div>
                            <span>포메이션 데이터 분석 중...</span>
                        </div>
                        
                        <div class="formation-layout" id="formationLayout" style="display: none;">
                            <!-- 포메이션별 성과 카드 섹션 -->
                            <div class="formation-performance-section" id="formationPerformanceSection">
                                <div class="section-header">
                                    <h3>📊 포메이션별 경기 성과</h3>
                                </div>
                                <div class="section-description">
                                    <p class="section-subtitle">각 포메이션의 전체 성과를 확인하세요</p>
                                </div>
                                
                                <!-- 포메이션 성과 슬라이더 -->
                                <div class="formation-performance-slider-container">
                                    <button class="formation-slider-btn" id="formationSliderPrevBtn" disabled>
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="15,18 9,12 15,6"></polyline>
                                        </svg>
                                    </button>
                                    
                                    <div class="formation-performance-slider" id="formationPerformanceSlider">
                                        <div class="formation-performance-track" id="formationPerformanceTrack">
                                            <!-- 슬라이드들이 여기에 동적으로 생성됩니다 -->
                                        </div>
                                    </div>                                
                                    <button class="formation-slider-btn" id="formationSliderNextBtn">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="9,18 15,12 9,6"></polyline>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- 동일 포메이션 그룹 카드 섹션 -->
                            <div class="formation-groups-section" id="formationGroupsSection">
                                <div class="section-header">                            
                                    <h3>⚽ 포메이션별 상세 그룹</h3>
                                </div>
                                <div class="section-description">
                                    <p class="section-subtitle">동일한 포메이션을 사용한 경기들의 상세 데이터</p>
                                </div>
                                <div class="formation-groups-container" id="formationGroupsContainer">
                                    <!-- 포메이션 그룹 카드들이 여기에 표시됩니다 -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="no-formation-data" id="noFormationData" style="display: none;">
                            <div class="no-data-icon">⚽</div>
                            <h4>포메이션 데이터가 없습니다</h4>
                            <p>공식경기 100경기 데이터를 먼저 불러와주세요.</p>
                        </div>
                    
                </div>
            </div>

            <!-- 라이벌 매치 탭 -->
            <div class="tab-content" id="rival">
                <div id="rival-container"></div>
            </div>
        </div>

        <!-- 모바일 하단 탭 바 -->
        <nav class="mobile-tabbar" id="mobileTabbar" aria-label="모바일 내비게이션" style="display:none;">
            <button class="mobile-tabitem" data-tab="search" aria-label="검색">
                <span class="mobile-tabicon">🔎</span>
                <span class="mobile-tabtext">검색</span>
            </button>
            <button class="mobile-tabitem active" data-tab="dashboard" aria-label="대시보드">
                <span class="mobile-tabicon">🏠</span>
                <span class="mobile-tabtext">대시보드</span>
            </button>
            <button class="mobile-tabitem" data-tab="team" aria-label="구단">
                <span class="mobile-tabicon">👥</span>
                <span class="mobile-tabtext">구단</span>
            </button>
            <button class="mobile-tabitem" data-tab="stats" aria-label="포메이션">
                <span class="mobile-tabicon">📊</span>
                <span class="mobile-tabtext">포메이션</span>
            </button>
            <button class="mobile-tabitem" data-tab="rival" id="mobileRivalTabBtn" aria-label="라이벌" style="display:none;">
                <span class="mobile-tabicon">⚔️</span>
                <span class="mobile-tabtext">라이벌</span>
            </button>
        </nav>

        <!-- 에러 섹션 -->
        <div class="error-section" id="errorSection" style="display: none;">
            <div class="error-message" id="errorMessage">
                <!-- 에러 메시지가 여기에 표시됩니다 -->
            </div>
        </div>
    </div>

    <!-- 특징 가이드 팝업 -->
    <div class="characteristics-guide-popup-overlay" id="characteristicsGuidePopup" style="display: none;">
        <div class="characteristics-guide-popup">
            <div class="popup-header">
                <h3 id="guideTitle">특징 가이드</h3>
                <button class="popup-close" id="closeGuideBtn">&times;</button>
            </div>
            <div class="popup-content">
                <div id="guideContent">
                    <!-- 가이드 내용이 여기에 표시됩니다 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 최고의 선수 가이드 팝업 -->
    <div class="top-players-guide-popup-overlay" id="topPlayersGuidePopup" style="display: none;">
        <div class="top-players-guide-popup">
            <div class="popup-header">
                <h3>🏆 최고의 선수 지표 가이드</h3>
                <button class="popup-close" id="closeTopPlayersGuideBtn">&times;</button>
            </div>
            <div class="popup-content">
                <div class="guide-indicators">
                    <div class="guide-indicator">
                        <div class="indicator-header">
                            <span class="indicator-icon">⭐</span>
                            <h4>최고 평점</h4>
                        </div>
                        <p>경기당 평균 평점이 가장 높은 선수입니다. 전체적인 경기 기여도를 종합적으로 평가합니다.</p>
                    </div>
                    
                    <div class="guide-indicator">
                        <div class="indicator-header">
                            <span class="indicator-icon">⚽</span>
                            <h4>최다 득점</h4>
                        </div>
                        <p>가장 많은 골을 넣은 선수입니다. 공격력과 득점 능력을 보여줍니다.</p>
                    </div>
                    
                    <div class="guide-indicator">
                        <div class="indicator-header">
                            <span class="indicator-icon">🅰️</span>
                            <h4>최다 도움</h4>
                        </div>
                        <p>가장 많은 어시스트를 기록한 선수입니다. 플레이메이킹과 팀워크 능력을 보여줍니다.</p>
                    </div>
                    
                    <div class="guide-indicator">
                        <div class="indicator-header">
                            <span class="indicator-icon">🛡️</span>
                            <h4>수비 성공</h4>
                        </div>
                        <p>블록, 태클, 인터셉트를 합친 수비 성공률이 가장 높은 선수입니다. 수비 기여도를 보여줍니다.</p>
                    </div>
                    
                    <div class="guide-indicator">
                        <div class="indicator-header">
                            <span class="indicator-icon">🏆</span>
                            <h4>멀티 기여도</h4>
                        </div>
                        <p>경기당 (골 + 어시스트 + 블록 + 태클 + 인터셉트) / 경기수로 계산됩니다. 올라운드 플레이어를 평가합니다.</p>
                    </div>
                    
                    <div class="guide-indicator">
                        <div class="indicator-header">
                            <span class="indicator-icon">🎯</span>
                            <h4>득점 성공률</h4>
                        </div>
                        <p>(총 골 수 / 총 슛 수) × 100으로 계산됩니다. 슈팅 정확도를 보여줍니다.</p>
                    </div>
                    
                    <div class="guide-indicator">
                        <div class="indicator-header">
                            <span class="indicator-icon">📊</span>
                            <h4>도움 성공률</h4>
                        </div>
                        <p>(어시스트 수 / 패스 시도 수) × 100으로 계산됩니다. 패스 정확도를 보여줍니다.</p>
                    </div>
                    
                    <div class="guide-indicator">
                        <div class="indicator-header">
                            <span class="indicator-icon">💥</span>
                            <h4>공중볼 성공률</h4>
                        </div>
                        <p>(공중볼 성공 수 / 공중볼 시도 수) × 100으로 계산됩니다. 헤딩과 공중볼 경합 능력을 보여줍니다.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 계산 과정 팝업 -->
    <div class="calculation-popup-overlay" id="calculationPopup" style="display: none;">
        <div class="calculation-popup">
            <div class="popup-header">
                <h3>📊 계산 과정</h3>
                <button class="popup-close" onclick="closeCalculationPopup()">&times;</button>
            </div>
            <div class="popup-content">
                <div id="calculationPopupContent">
                    <!-- 계산 과정 내용이 여기에 표시됩니다 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 이메일 문의 팝업 -->
    <div class="email-popup-overlay" id="emailPopup" style="display: none;">
        <div class="email-popup">
            <div class="popup-header">
                <h3>📧 문의 및 피드백</h3>
                <button class="popup-close" id="closeEmailBtn">&times;</button>
            </div>
            <div class="popup-content">
                <div class="email-info">
                    <div class="email-address">
                        <span class="email-label">이메일 주소:</span>
                        <span class="email-value">serengrinf@gmail.com</span>
                    </div>
                    <div class="email-description">
                        <p>문의사항이나 피드백이 있으시면 언제든지 연락주세요!</p>
                        <p>빠른 시일 내에 답변드리겠습니다.</p>
                    </div>
                    <div class="email-actions">
                        <button class="copy-email-btn" id="copyEmailBtn">이메일 복사</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer style="text-align: center; padding: 2rem 1rem; margin-top: 3rem; color: #666; font-size: 0.875rem;">
        Data based on NEXON Open API
    </footer>

    <!-- 모바일 검색 팝업 -->
    <div class="mobile-search-popup-overlay" id="mobileSearchPopup" style="display: none;">
        <div class="mobile-search-popup">
            <div class="popup-header">
                <h3>🔎 닉네임 검색</h3>
                <button class="popup-close" id="closeMobileSearchBtn" aria-label="닫기">&times;</button>
            </div>
            <div class="popup-content">
                <div class="mobile-search-form">
                    <select id="mobileMatchTypeSelect" class="match-type-select">
                        <option value="50">공식경기</option>
                        <option value="52">감독모드</option>
                        <option value="60">친선경기</option>
                    </select>
                    <input type="text" id="mobileNicknameInput" placeholder="유저 닉네임을 입력하세요" maxlength="20" autocomplete="off">
                    <div class="mobile-search-actions">
                        <button class="confirm-search-btn" id="confirmMobileSearchBtn">검색</button>
                    </div>
                </div>
                <div class="popup-loading" id="mobilePopupLoading" style="display: none;">
                    <div class="spinner"></div>
                    <span>로딩 중...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- 맨 위로 가기 버튼 -->
    <button id="scrollToTopBtn" class="scroll-to-top" aria-label="맨 위로 가기">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18 15 12 9 6 15"></polyline>
        </svg>
    </button>

    <!-- 구조화된 데이터 (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "FC Data",
      "url": "https://fc-data.kr",
      "description": "FC온라인 전적 분석 도구",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://fc-data.kr/?search={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>

    <!-- Common JavaScript -->
    <script src="js/common.js"></script>
    <!-- Dashboard JavaScript -->
    <script src="js/dashboard.js"></script>
    <!-- Team Data JavaScript -->
    <script src="js/team.js"></script>
    <!-- Formation Analysis JavaScript -->
    <script src="js/formation.js"></script>
    <!-- Rival Match JavaScript -->
    <script src="js/rival.js"></script>
    
    <!-- 애드센스 표시 제어 스크립트 -->
    <script>
        // 페이지 로드 시 즉시 광고 숨김 보장
        document.addEventListener('DOMContentLoaded', function() {
            const adContainer = document.getElementById('dashboardAd');
            if (adContainer) {
                adContainer.style.display = 'none';
            }
        });
        
        // 광고 표시/숨김 함수 (Google AdSense 정책 준수)
        function showAdSenseAd() {
            const adContainer = document.getElementById('dashboardAd');
            const matchesList = document.getElementById('matchesList');
            const errorSection = document.getElementById('errorSection');
            const playerInfo = document.getElementById('playerBasicInfo');
            const welcomeSection = document.getElementById('welcomeSection');
            const tabContainer = document.getElementById('tabContainer');
            
            if (!adContainer) return;
            
            // 1. 환영 섹션이 표시되어 있으면 광고 숨김 (초기 화면)
            if (welcomeSection && welcomeSection.style.display !== 'none') {
                adContainer.style.display = 'none';
                return;
            }
            
            // 2. 에러가 있으면 광고 숨김
            if (errorSection && errorSection.style.display !== 'none') {
                adContainer.style.display = 'none';
                return;
            }
            
            // 3. 플레이어 정보가 없으면 광고 숨김
            if (!playerInfo || playerInfo.style.display === 'none') {
                adContainer.style.display = 'none';
                return;
            }
            
            // 4. 탭 컨테이너가 표시되지 않으면 광고 숨김
            if (!tabContainer || tabContainer.style.display === 'none') {
                adContainer.style.display = 'none';
                return;
            }
            
            // 5. 경기 데이터 확인 - 최소 5개 이상의 유효한 경기가 있어야 함
            if (matchesList) {
                const matchItems = matchesList.querySelectorAll('.match-item');
                let validMatchCount = 0;
                
                matchItems.forEach(item => {
                    // 유효한 경기 아이템인지 확인
                    if (!item.classList.contains('no-matches') && 
                        !item.textContent.includes('경기 기록이 없습니다') &&
                        !item.textContent.includes('데이터를 불러오는 중') &&
                        item.querySelector('.match-header')) {
                        validMatchCount++;
                    }
                });
                
                // 최소 5개 이상의 유효한 경기 데이터가 있을 때만 광고 표시
                if (validMatchCount >= 5) {
                    adContainer.style.display = 'block';
                    
                    // 광고 초기화 (처음 한 번만)
                    try {
                        const adIns = adContainer.querySelector('.adsbygoogle');
                        if (adIns && !adIns.getAttribute('data-adsbygoogle-status')) {
                            (adsbygoogle = window.adsbygoogle || []).push({});
                        }
                    } catch (e) {
                        console.log('AdSense 초기화:', e);
                    }
                } else {
                    // 충분한 콘텐츠가 없으면 광고 숨김
                    adContainer.style.display = 'none';
                }
            } else {
                adContainer.style.display = 'none';
            }
        }
        
        // 데이터 로드 완료 시 광고 표시 (지연 시간 증가)
        function onDataLoaded() {
            // 데이터가 완전히 렌더링된 후 광고 표시
            setTimeout(showAdSenseAd, 1500);
        }
        
        // 전역 함수로 등록
        window.showAdSenseAd = showAdSenseAd;
        window.onDataLoaded = onDataLoaded;
        
        // 패치노트 아이템 토글 함수
        function toggleNoticeItem(element) {
            element.classList.toggle('expanded');
        }
        
        // 기능 설명 아이템 토글 함수
        function toggleFeatureItem(element) {
            element.classList.toggle('expanded');
        }
        
        // 전역 함수로 등록
        window.toggleNoticeItem = toggleNoticeItem;
        window.toggleFeatureItem = toggleFeatureItem;
    </script>
    
    <!-- 요즘 나의 경기는? 팝업 -->
    <div class="fun-data-popup-overlay" id="funDataPopup" style="display: none;">
        <div class="fun-data-popup">
            <div class="popup-header">
                <h3>🎲 요즘 나의 경기는?</h3>
                <button class="popup-close" onclick="closeFunDataPopup()">&times;</button>
            </div>
            
            <div class="slider-container">
                <button class="nav-btn prev-btn" id="prevBtn" onclick="previousCard()">‹</button>
                
                <div class="card-slider" id="cardSlider">
                    <div class="card-wrapper" id="cardWrapper">
                        <!-- 동적으로 생성되는 카드들 -->
                    </div>
                </div>
                
                <button class="nav-btn next-btn" id="nextBtn" onclick="nextCard()">›</button>
            </div>
            
            <div class="slider-indicators" id="sliderIndicators">
                <!-- 인디케이터들이 여기에 생성됩니다 -->
            </div>
            
            <div class="popup-footer">
                <button class="refresh-cards-btn" onclick="refreshFunDataCards()">
                    🔄 다른 카드 보기
                </button>
            </div>
        </div>
    </div>
</body>
</html>

